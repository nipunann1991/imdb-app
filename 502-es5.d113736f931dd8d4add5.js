!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function t(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}(self.webpackChunkimdb_portal_app=self.webpackChunkimdb_portal_app||[]).push([[502],{8502:function(e,o,i){"use strict";i.r(o),i.d(o,{SearchResultsPageModule:function(){return R}});var c=i(8583),s=i(4422),r=i(8002),a=i(639),g=i(6037),l=i(2340),p=i(1841),u="https://www.omdbapi.com/?apikey=".concat(l.N.OMDB_API_KEY),m=function(){var e=function(){function e(t){n(this,e),this.http=t}return t(e,[{key:"getMovieBySearchTerm",value:function(n){return this.http.get("".concat(u,"&s=").concat(n.movieTitle,"&page=").concat(n.page))}},{key:"getMovieData",value:function(n){return this.http.get("".concat(u,"&i=").concat(n))}}]),e}();return e.\u0275fac=function(n){return new(n||e)(a.LFG(p.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),v=i(7709),P=i(6215),M=function(){var e=function(){function e(){n(this,e),this.setPagination=new v.xQ,this.getPagination=new P.X({pageIndex:1,collection:[]}),this.setPaginationIndex=this.setPagination.asObservable(),this.getPaginationData=this.getPagination.asObservable()}return t(e,[{key:"setPage",value:function(n){this.setPagination.next(n)}},{key:"getPageData",value:function(n){this.getPagination.next(n)}}]),e}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),_=i(2890),O=i(5183),C=i(2533);function h(n,e){if(1&n&&(a.TgZ(0,"li"),a._uU(1),a.qZA()),2&n){var t=e.$implicit;a.xp6(1),a.Oqu(t)}}var d=function(n,e){return{itemsPerPage:n,currentPage:e}},f=function(){var e=function(){function e(t){n(this,e),this.pagination=t,this.collection=[],this.itemsPerPage=10}return t(e,[{key:"ngOnInit",value:function(){var n=this;this.pagination.getPaginationData.subscribe(function(e){n.currentPage=e.pageIndex,n.collection=e.collection})}},{key:"pageChanged",value:function(n){this.pagination.setPage(n)}}]),e}();return e.\u0275fac=function(n){return new(n||e)(a.Y36(M))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-pagination"]],decls:5,vars:7,consts:[[1,"pagination"],[4,"ngFor","ngForOf"],[3,"pageChange"]],template:function(n,e){1&n&&(a.TgZ(0,"div",0),a.TgZ(1,"ul"),a.YNc(2,h,2,1,"li",1),a.ALo(3,"paginate"),a.qZA(),a.TgZ(4,"pagination-controls",2),a.NdJ("pageChange",function(n){return e.pageChanged(n)}),a.qZA(),a.qZA()),2&n&&(a.xp6(2),a.Q6J("ngForOf",a.xi3(3,1,e.collection,a.WLB(4,d,e.itemsPerPage,e.currentPage))))},directives:[c.sg,C.LS],pipes:[C._s],styles:[".pagination[_ngcontent-%COMP%]{display:block;margin:auto;text-align:center;padding:1.5rem 0 3rem}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{display:none}"]}),e}();function b(n,e){1&n&&(a.TgZ(0,"div"),a._uU(1,"Searching Movies..."),a.qZA())}function k(n,e){if(1&n&&(a.TgZ(0,"li"),a._uU(1),a.qZA()),2&n){var t=e.$implicit;a.xp6(1),a.AsE("- ",t.Source,": ",t.Value,"")}}function x(n,e){if(1&n&&(a.TgZ(0,"ul",19),a.TgZ(1,"li",20),a.TgZ(2,"h4"),a._uU(3,"Plot"),a.qZA(),a.TgZ(4,"p"),a._uU(5),a.qZA(),a.qZA(),a.TgZ(6,"li",20),a.TgZ(7,"h4"),a._uU(8,"Actors"),a.qZA(),a.TgZ(9,"p"),a._uU(10),a.qZA(),a.qZA(),a.TgZ(11,"li",20),a.TgZ(12,"h4"),a._uU(13,"Ratings"),a.qZA(),a.TgZ(14,"ul",21),a.YNc(15,k,2,2,"li",22),a.qZA(),a.qZA(),a.qZA()),2&n){var t=a.oxw().$implicit;a.xp6(5),a.Oqu(null==t.MovieData?null:t.MovieData.Plot),a.xp6(5),a.Oqu(null==t.MovieData?null:t.MovieData.Actors),a.xp6(5),a.Q6J("ngForOf",null==t.MovieData?null:t.MovieData.Ratings)}}function w(n,e){if(1&n){var t=a.EpF();a.TgZ(0,"button",23),a.NdJ("click",function(){a.CHM(t);var n=a.oxw(),e=n.$implicit,o=n.index;return a.oxw(2).expandDetails(e.imdbID,o)}),a._uU(1,"Details"),a.qZA()}}function y(n,e){if(1&n){var t=a.EpF();a.TgZ(0,"a",24),a.NdJ("click",function(){a.CHM(t);var n=a.oxw(),e=n.$implicit,o=n.index;return a.oxw(2).expandDetails(e.imdbID,o)}),a._uU(1,"Close"),a.qZA()}}var Z=function(n){return{expand:n}};function A(n,e){if(1&n&&(a.TgZ(0,"li",8),a.TgZ(1,"div",9),a.TgZ(2,"div",10),a._UZ(3,"img",11),a.qZA(),a.TgZ(4,"div",12),a.TgZ(5,"h3",13),a._uU(6),a.qZA(),a.YNc(7,x,16,3,"ul",14),a.TgZ(8,"div",15),a.TgZ(9,"p",16),a._uU(10),a.qZA(),a.YNc(11,w,2,0,"button",17),a.YNc(12,y,2,0,"a",18),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&n){var t=e.$implicit;a.Q6J("ngClass",a.VKq(7,Z,t.Expand)),a.xp6(3),a.Q6J("src",t.Poster,a.LSH),a.xp6(3),a.Oqu(t.Title),a.xp6(1),a.Q6J("ngIf",t.Expand),a.xp6(3),a.Oqu(t.Year),a.xp6(1),a.Q6J("ngIf",!t.Expand),a.xp6(1),a.Q6J("ngIf",t.Expand)}}function T(n,e){if(1&n&&(a.TgZ(0,"div",4),a.TgZ(1,"p",5),a._uU(2),a.qZA(),a.TgZ(3,"ul",6),a.YNc(4,A,13,9,"li",7),a.qZA(),a._UZ(5,"app-pagination"),a.qZA()),2&n){var t=a.oxw();a.xp6(2),a.hij("Total Results: ",null==t.moviesList?null:t.moviesList.totalResults," "),a.xp6(2),a.Q6J("ngForOf",null==t.moviesList?null:t.moviesList.Search)}}var q,L,D=[{path:"",component:(q=function(){function e(t,o,i,c){n(this,e),this.search=t,this.movie=o,this.pagination=i,this.notify=c,this.isLoading=!1}return t(e,[{key:"ngOnInit",value:function(){var n=this;this.searchMovieSubscription=this.search.searchMovie.subscribe(function(e){n.searchString=e,n.searchString?n.getMovieList():n.notify.notifyError({Response:"Fasle",Error:"Search can't be empty. Please try again"})}),this.paginationSubscription=this.pagination.setPaginationIndex.subscribe(function(e){e&&n.getMovieList(e)})}},{key:"getMovieList",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.notify.notifyHide(),this.isLoading=!0;var t={movieTitle:this.searchString,page:e};this.currentPage=e,this.movie.getMovieBySearchTerm(t).pipe((0,r.U)(function(e){return n.checkResponse(e.Response)&&e.Search.map(function(n){n.Expand=!1,n.MovieData={}}),e})).subscribe({next:function(e){var t;if(n.moviesList=e,n.checkResponse(n.moviesList.Response)){var o=Array.from(Array(parseInt(null===(t=n.moviesList)||void 0===t?void 0:t.totalResults)).keys());n.pagination.getPageData({pageIndex:n.currentPage,collection:o})}else n.notify.notifyError(n.moviesList);n.isLoading=!1},error:function(n){console.log(n)}})}},{key:"expandDetails",value:function(n,e){this.moviesList.Search[e].Expand=!this.moviesList.Search[e].Expand,this.moviesList.Search[e].Expand&&this.getMovieData(n,e)}},{key:"getMovieData",value:function(n,e){var t=this;this.movie.getMovieData(n).subscribe({next:function(n){t.moviesList.Search[e].MovieData=n},error:function(n){console.log(n)}})}},{key:"checkResponse",value:function(n){return null!=n?JSON.parse(n.toLowerCase()):""}},{key:"ngOnDestroy",value:function(){this.searchMovieSubscription.unsubscribe(),this.paginationSubscription.unsubscribe()}}]),e}(),q.\u0275fac=function(n){return new(n||q)(a.Y36(g.Q),a.Y36(m),a.Y36(M),a.Y36(_.g))},q.\u0275cmp=a.Xpm({type:q,selectors:[["app-search-results-page"]],decls:5,vars:2,consts:[[1,"search-results-page","page","container-fluid"],[1,"search-results-page-inner","container"],[4,"ngIf"],["class","movies-wrapper",4,"ngIf"],[1,"movies-wrapper"],[1,"total-results"],[1,"movies-list"],["class","movie-block",3,"ngClass",4,"ngFor","ngForOf"],[1,"movie-block",3,"ngClass"],[1,"movie-block-inner"],[1,"movie-image"],["alt","",3,"src"],[1,"movie-description"],[1,"movie-title"],["class","movie-expanded-details",4,"ngIf"],[1,"movie-footer-details"],[1,"year"],["class","btn btn-details",3,"click",4,"ngIf"],["href","javascript:void(0)","class","close-item",3,"click",4,"ngIf"],[1,"movie-expanded-details"],[1,"block"],[1,"ratings"],[4,"ngFor","ngForOf"],[1,"btn","btn-details",3,"click"],["href","javascript:void(0)",1,"close-item",3,"click"]],template:function(n,e){1&n&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"app-notification"),a.YNc(3,b,2,0,"div",2),a.YNc(4,T,6,2,"div",3),a.qZA(),a.qZA()),2&n&&(a.xp6(3),a.Q6J("ngIf",!e.moviesList&&e.isLoading),a.xp6(1),a.Q6J("ngIf",e.moviesList&&e.checkResponse(null==e.moviesList?null:e.moviesList.Response)))},directives:[O.c,c.O5,c.sg,f,c.mk],styles:['@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap");html[_ngcontent-%COMP%]{font-size:55%}@media screen and (min-width: 768px){html[_ngcontent-%COMP%]{font-size:62.5%}}*[_ngcontent-%COMP%]{padding:0;margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-weight:700}body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}body[_ngcontent-%COMP%]{font-weight:400}body[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{line-height:1.9rem;margin-bottom:0}button[_ngcontent-%COMP%]{font-weight:400;border:0;outline:0}button[_ngcontent-%COMP%], button.btn[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}button.btn[_ngcontent-%COMP%]{font-weight:700;padding:.9rem 1.6rem;background-color:#307cfb;color:#fff;text-transform:uppercase;font-size:1.2rem;letter-spacing:.01rem;border-radius:.3rem;cursor:pointer}button.btn[_ngcontent-%COMP%]:hover{background-color:#055ef3}.container-fluid[_ngcontent-%COMP%]{width:calc(100% - 3rem);padding:0 1.5rem}.container-fluid[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:114rem;margin:auto}.page[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   p.total-results[_ngcontent-%COMP%]{margin-bottom:2rem}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -1.5rem;*zoom:1}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]:after, .search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]:before{content:".";display:block;height:0;font-size:0;clear:both;visibility:hidden}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]{flex:0 0 auto;flex-direction:row;padding:0 1.5rem;width:calc(100% - 3rem);list-style:none;height:27.5rem;margin-bottom:1.5rem}@media screen and (min-width: 768px){.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]{width:calc(50% - 3rem);margin-bottom:3rem}}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block.expand[_ngcontent-%COMP%]{flex:0 0 auto;flex-direction:row;padding:0 1.5rem;width:calc(100% - 3rem);height:auto}@media screen and (min-width: 768px){.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block.expand[_ngcontent-%COMP%]{width:calc(100% - 3rem)}}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]{box-shadow:0 1px 10px -1px rgba(50,50,50,.2);display:flex;height:inherit}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-image[_ngcontent-%COMP%]{width:20rem;height:inherit;background-color:#eee;overflow:hidden}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]{width:calc(100% - 19rem);display:flex;flex-direction:column;flex-grow:1;justify-content:space-between}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   h3.movie-title[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:500;padding:1.5rem 1.5rem 0;font-size:1.6rem}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   ul.movie-expanded-details[_ngcontent-%COMP%]{padding:1.5rem}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   ul.movie-expanded-details[_ngcontent-%COMP%]   li.block[_ngcontent-%COMP%]{margin-bottom:1.5rem;list-style:none}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   ul.movie-expanded-details[_ngcontent-%COMP%]   li.block[_ngcontent-%COMP%]:last-child{margin-bottom:0}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   ul.movie-expanded-details[_ngcontent-%COMP%]   li.block[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;font-family:Roboto,sans-serif;font-weight:400}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   ul.movie-expanded-details[_ngcontent-%COMP%]   li.block[_ngcontent-%COMP%]   ul.ratings[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   .movie-footer-details[_ngcontent-%COMP%]{display:flex;padding:1.5rem;border-top:1px solid #ecedee}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   .movie-footer-details[_ngcontent-%COMP%]   p.year[_ngcontent-%COMP%]{color:#c3c3c3;margin-right:auto}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   .movie-footer-details[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{margin-left:auto}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   .movie-footer-details[_ngcontent-%COMP%]   a.close-item[_ngcontent-%COMP%]{font-size:1.2rem;color:#c3c3c3}.search-results-page[_ngcontent-%COMP%]   .search-results-page-inner[_ngcontent-%COMP%]   .movies-wrapper[_ngcontent-%COMP%]   ul.movies-list[_ngcontent-%COMP%]   li.movie-block[_ngcontent-%COMP%]   .movie-block-inner[_ngcontent-%COMP%]   .movie-description[_ngcontent-%COMP%]   .movie-footer-details[_ngcontent-%COMP%]   a.close-item[_ngcontent-%COMP%]:hover{color:#9d9d9d}']}),q)}],S=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.Bz.forChild(D)],s.Bz]}),e}(),I=i(8740),R=((L=function e(){n(this,e)}).\u0275fac=function(n){return new(n||L)},L.\u0275mod=a.oAB({type:L}),L.\u0275inj=a.cJS({providers:[m],imports:[[c.ez,S,I.m]]}),L)}}])}();